<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Deputy by freekh</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Deputy</h1>
        <p>(dep)endency (ut)ilit(y)</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/freekh/deputy" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/freekh/deputy/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/freekh/deputy/tarball/master" class="button">TAR</a></li>
            <li><a href="http://freekh.github.com/deputy/files/deputy-0.3.0/deputy-0.3.0.tar.gz" class="button">BIN</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h1>What is deputy?</h1>

<p>Deputy is short for dependency utility. It is a command line tool that
helps you inspect ivy and maven dependencies. Continue reading to learn more!</p>

<h1>Installation</h1>

<p>Only *nix is currently supported</p>

<p>To install use the script below:</p>

<div class="highlight"><pre>curl http://freekh.github.com/deputy/files/deputy-0.3.0/setup.sh | sh
</pre></div>

<h1>Working with Deputy</h1>

<p>Deputy works by piping in a format then emitting a new one. You can
also do different operations on input in different formats. </p>

<p>There are 4 formats in deputy on: </p>

<ol>
<li><p>deps:  Dependencies are your input and are in the format: :: e.g.: commons-cli:commons-cli:1.0</p></li>
<li><p>resolved: This is a resolved dependency with more information</p></li>
<li><p>results: This is an aggregated list of resolved deps which can be used to quickly download</p></li>
<li><p>file: the absolute file path</p></li>
</ol><p><strong>NOTICE</strong>: All commands start with the name of the type it gets as an
input. 
If the last name is of another type, it is a transformation to this type, if not the operation will output the same type.</p>

<h1>Getting started</h1>

<p>To learn more about available commands and options, run:</p>

<div class="highlight"><pre>deputy --help
</pre></div>

<h1>Cookbook</h1>

<ol>
<li>
<p>Download the dependencies you need to compile from io.netty:netty:3.5.0.Final:</p>

<div class="highlight"><pre><span class="nb">echo </span>io.netty:netty:3.5.0.Final | deputy deps-resolved | deputy --quick --grep<span class="o">=</span><span class="s2">"\|.*compile.*\|"</span> resolved-transitive | deputy resolved-highest-versions  | deputy resolved-results | grep -v <span class="s2">"#pom"</span> | grep -v <span class="s2">"#ivy"</span> | deputy results-download-file
</pre></div>
</li>
<li>
<p>Inspect all dependencies io.netty:netty:3.5.0.Final by printing them out in a tree</p>

<div class="highlight"><pre><span class="nb">echo </span>io.netty:netty:3.5.0.Final | deputy deps-resolved | deputy resolved-transitive | deputy resolved-treeprint
</pre></div>
</li>
<li>
<p>Print out  dependencies that has been pruned because there exists a higher version
This will give you all the highest versions of a dependency:</p>

<div class="highlight"><pre><span class="nb">echo </span>io.netty:netty:3.5.0.Final | deputy deps-resolved | deputy --quick resolved-transitive | deputy resolved-highest-versions | sort &gt; highest_only <span class="c">#put only the highest versions found in a file</span>
</pre></div>

<p>This will give you ALL the versions:</p>

<div class="highlight"><pre><span class="nb">echo </span>io.netty:netty:3.5.0.Final | deputy deps-resolved | deputy resolved-transitive | sort &gt; all  <span class="c">#put all versions in a file</span>
</pre></div>

<p>Then compare:</p>

<div class="highlight"><pre>diff all highest_only |  grep <span class="s2">"&lt; "</span> | sed <span class="s1">'s/&lt; //'</span> | cut -d <span class="s1">'|'</span> -f 1 | uniq
</pre></div>
</li>
<li>
<p>Print all dependencies needed to compile with play:play_2.9.1:2.0.3 using a resolver from the ivy-settings.xml file below:</p>

<div class="highlight"><pre><span class="nt">&lt;ivysettings&gt;</span>
  <span class="nt">&lt;settings</span> <span class="na">defaultResolver=</span><span class="s">"typesafe"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;resolvers&gt;</span>
    <span class="nt">&lt;ibiblio</span> <span class="na">name=</span><span class="s">"typesafe"</span> <span class="na">m2compatible=</span><span class="s">"true"</span> <span class="na">root=</span><span class="s">"http://repo.typesafe.com/typesafe/releases/"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/resolvers&gt;</span>
<span class="nt">&lt;/ivysettings&gt;</span>
</pre></div>

<div class="highlight"><pre><span class="nb">echo </span>play:play_2.9.1:2.0.3 | deputy --ivy-settings<span class="o">=</span>ivy-settings.xml --resolver<span class="o">=</span>typesafe deps-resolved | deputy --ivy-settings<span class="o">=</span>ivy-settings.xml --resolver<span class="o">=</span>typesafe resolved-transitive |  deputy resolved-treeprint
</pre></div>
</li>
</ol><h1>Design and scope</h1>

<h2>What does it not do?</h2>

<p>It does not build. Deputy handles dependencies. Not only does it NOT build, it does not do anything else either - it is just a utility for dependencies. </p>

<p>It is not monolitic. If you do not like that you have to perform several commands to get something interesting, you better look for some alternatives.  SBT is a great tool if you want to have a lot of control and build lots of stuff in one command. </p>

<h2>How does it work?</h2>

<p>Deputy is designed to work by piping the output of a command into another. </p>

<p>Typically you will start with some coordinates (describing the dependencies) and end up with a list of downloaded jars.</p>

<p>It is up to you to define what will happen between this though or if you want to stop in between.</p>

<p>This makes it easy to see what goes out and in between each command and thus makes it easy to see what happens.</p>

<p>The problem with this is approach is that you have to know what you want.</p>

<h2>Why was it created?</h2>

<p>When using maven and ivy I have too  often encountered issues where jars are unexpectedly put on your classpath or dependencies have failed without being able to easily see what is going on.</p>

<p>To make matters worse some tools fail before telling you what it was doing and why it was doing it.</p>

<p>And that is the simple explanation: deputy is meant to help you to be explicit about what is going on. </p>

<h2>What could  you use it for?</h2>

<p>You are welcome to use deputy for whatever you like, but here are some use cases it actually fits:</p>

<ol>
<li><p>Whenever you just have some dependencies in your project: Most of the time, I just want to have the jars that I depend on, but these cannot be put under a distributed version control system. A compromise   can therefore be to have a list of urls you can download the jars you need and a tool that downloads them SUPER quick. This is something deputy will help you with.</p></li>
<li><p>Debugging ivy: for some reason your code is getting AbstractMethodErrors. You see your classpath has some jars it shouldn't have but why? With deputy you can easily figure out what is failing and why you were doing it in the first place.</p></li>
<li><p>Easily inspecting what jars and artifacts your project depends on.</p></li>
<li><p>Handle dependencies in an extremely  stable manner: base your project on links to the jars, links you know work and all surprises are gone. Adding the md5 sums for even more stability also is something that you can do.</p></li>
</ol><h1>LICENSE</h1>

<p>This code is open source software licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache 2.0 License</a>. Feel free to use it accordingly.</p>

<h1>THANKS</h1>

<p>Dean Thompson for: coming up the name deputy; the way commands look; and the way the tool works :)</p>

<p>Various Typesafe people for hearing me out and the encouragements. </p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/freekh">freekh</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>